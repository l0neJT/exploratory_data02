?readrds
?read.rds
?readRDS
?data.table
library(data.table)
?data.table
sources <- readRDS("./data//Source_Classification_Code.rds")
head(sources)
sources <- data.table(sources)
sources
pm25Dat <- data.table(readRDS("./data//summarySCC_PM25.rds"))
pm25Dat
pm25Dat[, list(fips, SCC)]
pm25Dat[ , list(c("fips", "SCC"))]
?lsit
?as.list
pm25Dat[ , as.list(c("fips", "SCC"))]
pm25Dat[ , c("fips", "SCC")]
pm25Dat[[ , c("fips", "SCC")]]
pm25Dat[[c("fips", "SCC")]]
?merge
rm(pm25Dat)
rm(sources)
source('~/GitHub/exploratory_data02/readNEIData.r')
source('~/GitHub/exploratory_data02/readNEIData.r')
pm25Dat <- readNEIData()
source('~/GitHub/exploratory_data02/readNEIData.r')
pm25Dat <- readNEIData()
source('~/GitHub/exploratory_data02/readNEIData.r')
source('~/GitHub/exploratory_data02/readNEIdata.R')
rm(readNEIData)
source('~/GitHub/exploratory_data02/readNEIdata.R')
source('~/GitHub/exploratory_data02/readNEIdata.R')
source('~/GitHub/exploratory_data02/readNEIdata.R')
pm25Dat <- readNEIdata()
sources <- readRD("./data//Source_Classification_Code.rds")
sources <- readRDS("./data//Source_Classification_Code.rds")
colnames(sources)
source('~/GitHub/exploratory_data02/readNEIdata.R')
?merge
source('~/GitHub/exploratory_data02/readNEIdata.R')
source('~/GitHub/exploratory_data02/readNEIdata.R')
source('~/GitHub/exploratory_data02/readNEIdata.R')
pm25Dat <- readNEIdata()
pm25Dat
source('~/GitHub/exploratory_data02/readNEIdata.R')
rm(sources)
pm25Dat
pm25Dat <- readNEIdata()
source('~/GitHub/exploratory_data02/readNEIdata.R')
pm25Dat
sumByYear <- pm25Dat(, sum, by = "year")
sumByYear <- pm25Dat[, sum, by = "year"]
sumByYear <- pm25Dat[, sum(emissions), by = "year"]
sumByYear <- pm25Dat[, sum(emissions), by = year]
sumByYear <- pm25Dat[, sum(Emissions), by = year]
sumByYear
?uppercase
?upper.case
?toupper
setnames(sumByYear, c("Year", "Total PM2.5 Emissions"))
with(sumByYear, plot("Year", "Total PM2.5 Emissions"))
plot(sumByYear$Year, sumByYear$Total PM2.5 Emissions)
with(sumByYear, plot("Year", "Total_PM2.5_Emissions"))
setnames(sumByYear, c("Year", "Total_PM2.5_Emissions"))
plot(sumByYear$Year, sumByYear$Total_PM2.5_Emissions)
rm(pm25Dat, sumByYear)
dat <- readNEIdata()
?plot
?plot
?plot
?lines
source('~/GitHub/exploratory_data02/plot1TotalByYear.r')
source('~/GitHub/exploratory_data02/plot1TotalByYear.r')
source('~/GitHub/exploratory_data02/plot1TotalByYear.r')
plot1TotalByYear(dat)
source('~/GitHub/exploratory_data02/plot1TotalByYear.r')
plot1TotalByYear(dat)
source('~/GitHub/exploratory_data02/plot1TotalByYear.r')
plot1TotalByYear(dat)
source('~/GitHub/exploratory_data02/plot1TotalByYear.r')
plot1TotalByYear(dat)
source('~/GitHub/exploratory_data02/plot1TotalByYear.r')
plot1TotalByYear(dat)
?lm
source('~/GitHub/exploratory_data02/plot1TotalByYear.r')
plot1TotalByYear(dat)
source('~/GitHub/exploratory_data02/plot1TotalByYear.r')
source('~/GitHub/exploratory_data02/plot1TotalByYear.r')
plot1TotalByYear(dat)
datTest <- dat[, mean(Emissions), by = year]
lm(year ~ V1, dat)
datTest
setnames(dat, c = ("year", "total"))
setnames(datTest, c = ("year", "total"))
setnames(datTest, c = ("year", "total"))
setnames(datTest, c("year", "total"))
lm(year ~ total, datTest)
source('~/GitHub/exploratory_data02/plot1TotalByYear.r')
plot1TotalByYear(dat)
?abline
source('~/GitHub/exploratory_data02/plot1TotalByYear.r')
plot1TotalByYear(dat)
source('~/GitHub/exploratory_data02/plot1TotalByYear.r')
plot1TotalByYear(dat)
?lm
source('~/GitHub/exploratory_data02/plot1TotalByYear.r')
plot1TotalByYear(dat)
lmTest <- lm(year ~ total, datTest)
lmTest
lmTest$Coefficients
lmTest$coefficients
source('~/GitHub/exploratory_data02/plot1TotalByYear.r')
source('~/GitHub/exploratory_data02/plot1TotalByYear.r')
plot1TotalByYear(dat)
source('~/GitHub/exploratory_data02/plot1TotalByYear.r')
plot1TotalByYear(dat)
source('~/GitHub/exploratory_data02/plot1TotalByYear.r')
plot1TotalByYear(dat)
source('~/GitHub/exploratory_data02/plot1TotalByYear.r')
sources <- readRDS("./data//Source_Classification_Code.rds")
sources
head(sources)
rm(sources, datTest, lmTest)
source('~/GitHub/exploratory_data02/plot1TotalByYear.r')
source('~/GitHub/exploratory_data02/plot1TotalByYear.r')
plot1TotalByYear(file = "test.png", years = c(2008, 2005))
plot1TotalByYear(dat = dat, file = "test.png", years = c(2008, 2005))
?par
?png
?par
?mtext
source('~/GitHub/exploratory_data02/plot1TotalByYear.r')
source('~/GitHub/exploratory_data02/plot2TotalByYearFIPS.r')
source('~/GitHub/exploratory_data02/plot2TotalByYearFIPS.r')
source('~/GitHub/exploratory_data02/plot2TotalByYearFIPS.r')
source('~/GitHub/exploratory_data02/plot2TotalByYearFIPS.r')
source('~/GitHub/exploratory_data02/plot2TotalByYearFIPS.r')
source('~/GitHub/exploratory_data02/plot2TotalByYearFIPS.r')
source('~/GitHub/exploratory_data02/plot2TotalByYearFIPS.r')
source('~/GitHub/exploratory_data02/plot2TotalByYearFIPS.r')
source('~/GitHub/exploratory_data02/plot2TotalByYearFIPS.r')
source('~/GitHub/exploratory_data02/plot2TotalByYearFIPS.r')
plot2TotalByYearFIPS(dat)
source('~/GitHub/exploratory_data02/plot2TotalByYearFIPS.r')
source('~/.active-rstudio-document')
plot2TotalByYearFIPS(dat)
source('~/GitHub/exploratory_data02/plot2TotalByYearFIPS.r')
plot2TotalByYearFIPS(dat)
source('~/GitHub/exploratory_data02/plot2TotalByYearFIPS.r')
plot2TotalByYearFIPS(dat)
plot2TotalByYearFIPS(dat, FIPS = c("01003", "01093"))
source('~/GitHub/exploratory_data02/plot2TotalByYearFIPS.r')
plot2TotalByYearFIPS(dat, FIPS = c("01003", "01093"))
source('~/GitHub/exploratory_data02/plot2TotalByYearFIPS.r')
plot2TotalByYearFIPS(dat, FIPS = c("01003", "01093"))
?matrix
batlimore <- matrix(c("24510", "Baltimore City, MD"), ncol = 2)
baltimore
baltimore <- matrix(c("24510", "Baltimore City, MD"), ncol = 2)
rm(batlimore)
baltimore
plot2TotalByYearFIPS(dat, FIPS = baltimore)
source('~/GitHub/exploratory_data02/plot2TotalByYearFIPS.r')
plot2TotalByYearFIPS(dat, FIPS = baltimore)
baltimore[[2]]
source('~/GitHub/exploratory_data02/plot2TotalByYearFIPS.r')
plot2TotalByYearFIPS(dat, FIPS = baltimore)
nrows(c("1", "2"))
?nrows
?numrows
?nrow
nrow(c("1", "2"))
?as.matrix
source('~/GitHub/exploratory_data02/plot2TotalByYearFIPS.r')
seq_along(10)
seq_along(c("3", "7"))
source('~/GitHub/exploratory_data02/plot2TotalByYearFIPS.r')
plot2TotalByYearFIPS(dat, FIPS = baltimore)
source('~/GitHub/exploratory_data02/plot2TotalByYearFIPS.r')
plot2TotalByYearFIPS(dat, FIPS = baltimore)
source('~/GitHub/exploratory_data02/plot2TotalByYearFIPS.r')
plot2TotalByYearFIPS(dat, FIPS = baltimore)
source('~/GitHub/exploratory_data02/plot2TotalByYearFIPS.r')
plot2TotalByYearFIPS(dat, FIPS = baltimore)
source('~/GitHub/exploratory_data02/plot2TotalByYearFIPS.r')
plot2TotalByYearFIPS(dat, FIPS = baltimore)
source('~/GitHub/exploratory_data02/plot2TotalByYearFIPS.r')
plot2TotalByYearFIPS(dat, FIPS = baltimore)
numeric(1)
numeric(2)
seq(1)
seq(2)
source('~/GitHub/exploratory_data02/plot2TotalByYearFIPS.r')
source('~/GitHub/exploratory_data02/plot2TotalByYearFIPS.r')
plot2TotalByYearFIPS(dat, FIPS = baltimore)
source('~/GitHub/exploratory_data02/plot2TotalByYearFIPS.r')
source('~/GitHub/exploratory_data02/plot2TotalByYearFIPS.r')
testDat <- dat[, sum(Emissions, by = "year", "fips", "type")]
library(data.table)
testDat <- dat[, sum(Emissions, by = "year", "fips", "type")]
testDat <- dat[, sum(Emissions, by = c("year", "fips", "type")]
testDat <- dat[, sum(Emissions), by = c("year", "fips", "type")]
setnames(testDat, c("year", "fips", "type", "Total_PM2.5"))
testDatBalt <- testDat[fips == "24510", ]
testDatBalt
library(ggplot2)
qplot(year, Total_PM2.5, data = testDatBalt, col = type)
?qplot
?geom
?ggplot
qplot(year, Total_PM2.5, data = testDatBalt, col = type, geom = "dotplot")
qplot(year, Total_PM2.5, data = testDatBalt, col = type, geom = "geom_smoot")
qplot(year, Total_PM2.5, data = testDatBalt, col = type, geom = "geom_smooth")
qplot(year, Total_PM2.5, data = testDatBalt, col = type, geom = "smooth")
qplot(year, Total_PM2.5, data = testDatBalt, col = type, geom = "line")
source('~/GitHub/exploratory_data02/plot2TotalByYearFIPS.r')
source('~/GitHub/exploratory_data02/plot2TotalByYearFIPS.r')
source('~/GitHub/exploratory_data02/plot1TotalByYear.r')
?mtext
source('~/GitHub/exploratory_data02/plot2TotalByYearFIPS.r')
plot2TotalByYearFIPS(dat)
source('~/GitHub/exploratory_data02/plot2TotalByYearFIPS.r')
plot2TotalByYearFIPS(dat)
dat
plot2TotalByYearFIPS(dat, fips = c("01003", "01093"))
plot2TotalByYearFIPS(dat, FIPS = c("01003", "01093"), file = "test.png")
source('~/GitHub/exploratory_data02/plot2TotalByYearFIPS.r')
plot2TotalByYearFIPS(dat, FIPS = c("01003", "01093"), file = "test.png")
source('~/GitHub/exploratory_data02/plot2TotalByYearFIPS.r')
plot2TotalByYearFIPS(dat, FIPS = c("01003", "01093"), file = "test.png")
source('~/GitHub/exploratory_data02/plot2TotalByYearFIPS.r')
?ggplot
matrix(c("1", "2", "3"), ncol = 3)
test <- matrix(c("1", "2", "3"), ncol = 3)
colnames(test, c("One", "Two"))
colnames(test, c("One", "Two", "Three"))
?colnames
colnames(test) <- c("One", "Two")
colnames(test, do.NULL = FALSE)
colnames(test) <- c("One", "Two")
?colnames
dimnames(test) <- c("One", "Two")
dimnames(test) <- list("One", "Two")
?iferror
?is.error
?is.stop
?names
?qplot
source('~/GitHub/exploratory_data02/plot3TotalByYearType.r')
source('~/GitHub/exploratory_data02/plot3TotalByYearType.r')
plot3TotalByYearType()
source('~/GitHub/exploratory_data02/plot3TotalByYearType.r')
plot3TotalByYearType()
source('~/GitHub/exploratory_data02/plot3TotalByYearType.r')
source('~/GitHub/exploratory_data02/plot3TotalByYearType.r')
plot3TotalByYearType()
b2 <- baltimore[1:2]
b2
baltimore
b2 <- baltimore[, c(1,2)]
b2
?matrix
rm(test, testDat, testDatBalt, b2)
test <- matrix(c("1", "a", "2", "b"), ncol = 2)
test
test <- matrix(c("1", "a", "2", "b"), nrow = 2)
test
baltimore[1:2, drop = FALSE]
baltimore[, 1:2, drop = FALSE]
source('~/GitHub/exploratory_data02/plot3TotalByYearType.r')
source('~/GitHub/exploratory_data02/plot3TotalByYearType.r')
plot3TotalByYearType()
source('~/GitHub/exploratory_data02/plot3TotalByYearType.r')
plot3TotalByYearType(dat)
?qplot
?ggsave
source('~/GitHub/exploratory_data02/plot3TotalByYearType.r')
plot3TotalByYearType(dat)
source('~/GitHub/exploratory_data02/plot3TotalByYearType.r')
plot3TotalByYearType(dat)
source('~/GitHub/exploratory_data02/plot3TotalByYearType.r')
plot3TotalByYearType(dat)
source('~/GitHub/exploratory_data02/plot3TotalByYearType.r')
plot3TotalByYearType(dat)
?ggsave
?qplot
source('~/GitHub/exploratory_data02/plot3TotalByYearType.r')
plot3TotalByYearType(dat)
?ggsave
source('~/GitHub/exploratory_data02/plot3TotalByYearType.r')
plot3TotalByYearType(dat)
source('~/GitHub/exploratory_data02/plot3TotalByYearType.r')
plot3TotalByYearType(dat)
source('~/GitHub/exploratory_data02/plot3TotalByYearType.r')
plot3TotalByYearType(dat)
source('~/GitHub/exploratory_data02/plot3TotalByYearType.r')
plot3TotalByYearType(dat)
source('~/GitHub/exploratory_data02/plot3TotalByYearType.r')
source('~/GitHub/exploratory_data02/plot3TotalByYearType.r')
source('~/GitHub/exploratory_data02/plot3TotalByYearType.r')
plot3TotalByYearType(dat)
source('~/GitHub/exploratory_data02/plot3TotalByYearType.r')
plot3TotalByYearType(dat)
source('~/GitHub/exploratory_data02/plot3TotalByYearType.r')
plot3TotalByYearType(dat)
source('~/GitHub/exploratory_data02/plot3TotalByYearType.r')
plot3TotalByYearType(dat)
source('~/GitHub/exploratory_data02/plot3TotalByYearType.r')
source('~/GitHub/exploratory_data02/plot3TotalByYearType.r')
source('~/GitHub/exploratory_data02/plot3TotalByYearType.r')
plot3TotalByYearType(dat)
source('~/GitHub/exploratory_data02/plot3TotalByYearType.r')
source('~/GitHub/exploratory_data02/plot3TotalByYearType.r')
rm(baltimore, test, dat)
source('~/GitHub/exploratory_data02/plot3TotalByYearType.r')
source('~/GitHub/exploratory_data02/plot3TotalByYearType.r')
sources <- readRDS("./data//Source_Classification_Code.rds")
head(sources)
dat <- readNEIdata()
dat
?unique
EIsector <- unique(sources$EI.Sector)
EIsector
sapply(sources, "Coal" %in% EI.Sector)
with(sources(sapply(sources, "Coal" %in% EI.Sector)))
?sapply
test(text) <- function {"coal" in tolower(test)}
test <- function(text) {"coal" %in% tolower(test)}
sapply(sources, test(EI.Sector))
sapply(sources$EI.Sector, test
)
?str_detect
?grepl
test <- function(text) {grepl("coal", test, ignore.case = TRUE}
test <- function(text) {grepl("coal", test, ignore.case = TRUE)}
sapply(sources$EI.Sector, test)
test(sources$EI.Sector[1])
class(sources$EI.Sector)
test <- function(text) {grepl("coal", as.character(test), ignore.case = TRUE)}
sapply(sources$EI.Sector, test)
sector <- as.character(sources$EI.Sector)
class(sector)
sapply(sector, test)
tail(sector)
sapply(sector, test)
results <- sapply(sector, test)
results <- sapply(sector, is.character)
results
head(results)
class(results)
grep("coal", "fuel comb - electric generation - coal", ignore.case = TRUE)
grepl("coal", "fuel comb - electric generation - coal", ignore.case = TRUE)
test
test <- function(txt) { grepl("coal", txt, ignor.case = TRUE)}
test("fuel comb - electric generation - coal")
test <- function(txt) { grepl("coal", txt, ignore.case = TRUE)}
test("fuel comb - electric generation - coal")
lapply(sources, test)
results <- lapply(sources, test)
sum(results)
sum(results[[1]])
test
head(sources)
results <- lapply(sector, test)
sum(results[[1]])
head(results)
results <- sapply(sector, test)
sum(sector)
head(sector)
sum(results)
source('~/GitHub/exploratory_data02/plot4TotalByYearCoal.r')
source('~/GitHub/exploratory_data02/plot4TotalByYearCoal.r')
plot4TotalByYearCoal()
source('~/GitHub/exploratory_data02/plot4TotalByYearCoal.r')
plot4TotalByYearCoal()
source('~/GitHub/exploratory_data02/plot4TotalByYearCoal.r')
dat <- readNEIdata(srcCols = c("SCC", "EI.Sector"))
rm(sources, EIsector, results, sector)
rm(test)
source('~/GitHub/exploratory_data02/plot4TotalByYearCoal.r')
plot4TotalByYearCoal(dat)
?qplot
library(ggplot2)
?qplot
plot4TotalByYearCoal(dat)
source('~/GitHub/exploratory_data02/plot4TotalByYearCoal.r')
plot4TotalByYearCoal(dat)
source('~/GitHub/exploratory_data02/plot3TotalByYearType.r')
source('~/GitHub/exploratory_data02/plot3TotalByYearType.r')
plot3TotalByYearType()
source('~/GitHub/exploratory_data02/plot3TotalByYearType.r')
plot3TotalByYearType(dat)
source('~/GitHub/exploratory_data02/plot3TotalByYearType.r')
plot3TotalByYearType(dat)
source('~/GitHub/exploratory_data02/plot3TotalByYearType.r')
source('~/GitHub/exploratory_data02/plot4TotalByYearCoal.r')
plot3TotalByYearType(dat)
plot4TotalByYearCoal(dat)
rm(dat)
